---
components:
  schemas:
    AcmeApiError-1:
      description: ""
      additionalProperties: false
      type: "object"
      title: "Acme Api Error"
      required:
      - "header"
      - "body"
      properties:
        header:
          additionalProperties: false
          type: "object"
          required:
          - "timestamp"
          properties:
            timestamp:
              type: "string"
        body:
          additionalProperties: false
          type: "object"
          required:
          - "errorId"
          - "errorDetails"
          properties:
            errorId:
              title: "errorId"
              type: "string"
            errorDetails:
              title: "errorDetails"
              type: "object"
    AcmeOrder:
      $schema: "http://json-schema.org/draft-07/schema#"
      description: ""
      additionalProperties: false
      type: "object"
      title: "Acme New Order event"
      required:
      - "header"
      - "body"
      properties:
        header:
          additionalProperties: false
          type: "object"
          required:
          - "timestamp"
          properties:
            timestamp:
              type: "string"
        body:
          additionalProperties: false
          type: "object"
          required:
          - "bu_id"
          - "order_id"
          - "details"
          properties:
            details:
              title: "order details"
              type: "object"
            bu_id:
              title: "business unit"
              type: "string"
            order_id:
              title: "order_id"
              type: "string"
      $id: "http://localhost:8811/acme/new-order.schema.json"
  messages:
    AcmeNewOrder:
      payload:
        $ref: "#/components/schemas/AcmeOrder"
      description: ""
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
    AcmeApiError:
      payload:
        $ref: "#/components/schemas/AcmeApiError-1"
      description: ""
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
    AcmeUpdateOrder:
      payload:
        $ref: "#/components/schemas/AcmeOrder"
      description: ""
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
servers: {}
channels:
  acme/apim/orders/v1/{bu_id}/{order_id}/update:
    publish:
      message:
        $ref: "#/components/messages/AcmeUpdateOrder"
    parameters:
      bu_id:
        schema:
          type: "string"
          enum:
          - "auto"
          - "whitegoods"
          - "e_bike"
      order_id:
        schema:
          type: "string"
  acme/apim/orders/v1/error:
    publish:
      message:
        $ref: "#/components/messages/AcmeApiError"
  acme/apim/orders/v1/{bu_id}/create:
    publish:
      message:
        $ref: "#/components/messages/AcmeNewOrder"
    parameters:
      bu_id:
        schema:
          type: "string"
          enum:
          - "auto"
          - "whitegoods"
          - "e_bike"
asyncapi: "2.0.0"
info:
  x-generated-time: "2021-09-12 10:03 UTC"
  description: "Consumer API for Order Notifications.\n\n---\n\n"
  title: "AcmeOrderNotifications-Consumer"
  x-view: "provider"
  version: "1"
